var $jscomp={scope:{},findInternal:function(b,e,k){b instanceof String&&(b=String(b));for(var f=b.length,g=0;g<f;g++){var n=b[g];if(e.call(k,n,g,b))return{i:g,v:n}}return{i:-1,v:void 0}}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(b,e,k){if(k.get||k.set)throw new TypeError("ES3 does not support getters and setters.");b!=Array.prototype&&b!=Object.prototype&&(b[e]=k.value)};
$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global?global:b};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(b,e,k,f){if(e){k=$jscomp.global;b=b.split(".");for(f=0;f<b.length-1;f++){var g=b[f];g in k||(k[g]={});k=k[g]}b=b[b.length-1];f=k[b];e=e(f);e!=f&&null!=e&&$jscomp.defineProperty(k,b,{configurable:!0,writable:!0,value:e})}};
$jscomp.polyfill("Array.prototype.find",function(b){return b?b:function(b,k){return $jscomp.findInternal(this,b,k).v}},"es6-impl","es3");
sysPass.Actions=function(b){var e=b.log,k=0,f={entrypoint:"/index.php",doAction:"/index.php",updateItems:"/index.php",user:{savePreferences:"/ajax/ajax_userPrefsSave.php",password:"/ajax/ajax_usrpass.php",passreset:"/ajax/ajax_passReset.php"},main:{login:"/index.php?r=login/login",install:"/ajax/ajax_install.php",upgrade:"/ajax/ajax_upgrade.php",getUpdates:"/index.php?r=index/checkUpdates",task:"/ajax/ajax_task.php"},checks:"/ajax/ajax_checkConnection.php",config:{save:"/ajax/ajax_configSave.php",
"export":"/ajax/ajax_configSave.php","import":"/ajax/ajax_configSave.php"},file:"/ajax/ajax_filesMgmt.php",link:"/ajax/ajax_itemSave.php",plugin:"/ajax/ajax_itemSave.php",account:{save:"/index.php",saveFavorite:"/ajax/ajax_itemSave.php",request:"/ajax/ajax_itemSave.php",getFiles:"/index.php",search:"/index.php?r=account/search"},appMgmt:{show:"/index.php",save:"/index.php",search:"/index.php"},eventlog:"/ajax/ajax_eventlog.php",wiki:{show:"/ajax/ajax_wiki.php"},notice:{show:"/ajax/ajax_noticeShow.php",
search:"/ajax/ajax_noticeSearch.php"}};Object.freeze(f);var g=function(a,c){var d={r:a.r+(void 0!==a.itemId?"/"+a.itemId:""),isAjax:1},h=b.appRequests().getRequestOpts();h.url=f.doAction;h.method="get";h.type="html";h.addHistory=!0;h.data=d;b.appRequests().getActionCall(h,function(a){var d=$("#content");d.empty().html(a);a=b.triggers().views;a.common(d);if(void 0!==c&&"function"===typeof a[c])a[c]();d=$(".mdl-layout__content");0<d.scrollTop()&&d.animate({scrollTop:0},1E3)})},n=function(a,c){e.info("getContent");
a.isAjax=1;var d=b.appRequests().getRequestOpts();d.url=f.doAction;d.method="get";d.type="html";d.addHistory=!0;d.data=a;b.appRequests().getActionCall(d,function(a){var d=$("#content");d.empty().html(a);a=b.triggers().views;a.common(d);if(void 0!==c&&"function"===typeof a[c])a[c]();d=$(".mdl-layout__content");0<d.scrollTop()&&d.animate({scrollTop:0},1E3)})},m=function(a,c){$.magnificPopup.open({items:{src:c,type:"inline"},callbacks:{open:function(){var a=$("#box-popup");b.appTriggers().views.common(a);
a.find(":input:text:visible:first").focus()},close:function(){a.data("item-dst")&&q.update(a)}},showCloseBtn:!1})},t=function(a,c){var d=$('<div id="box-popup" class="image">'+c+"</div>"),h=d.find("img");if(0===h.length)return m(a,c);h.hide();$.magnificPopup.open({items:{src:d,type:"inline"},callbacks:{open:function(){var a=this;h.on("click",function(){a.close()});setTimeout(function(){var a=b.resizeImage(h);d.css({backgroundColor:"#fff",width:a.width,height:"auto"});h.show("slow")},500)}}})},q={get:function(a){e.info("items:get");
var c=a[0].selectize;c.clearOptions();c.load(function(d){var h=b.appRequests().getRequestOpts();h.url=f.updateItems;h.method="get";h.cache=!0;h.data={r:"items/"+a.data("item-type")+"/"+a.data("item-id"),sk:a.data("sk")};b.appRequests().getActionCall(h,function(h){d(h.data);c.setValue(a.data("selected-id"),!0);b.appTriggers().updateFormHash()})})},update:function(a){e.info("items:update");var c=$("#"+a.data("item-dst"))[0].selectize;c.clearOptions();c.load(function(d){var c=b.appRequests().getRequestOpts();
c.url=f.updateItems;c.method="get";c.data={sk:b.sk.get(),itemType:a.data("item-type")};b.appRequests().getActionCall(c,function(a){d(a.data)})})}},r={logout:function(){b.redirect("index.php?r=login/logout")},login:function(a){e.info("main:login");var c=b.appRequests().getRequestOpts();c.url=f.main.login;c.method="get";c.data=a.serialize();b.appRequests().getActionCall(c,function(d){var c=$(".extra-hidden");switch(d.status){case 0:b.redirect(d.data.url);break;case 2:b.msg.out(d);a.find("input[type='text'],input[type='password']").val("");
a.find("input:first").focus();0<c.length&&c.hide();$("#mpass").prop("disabled",!1).val("");$("#smpass").show();break;case 5:b.msg.out(d);a.find("input[type='text'],input[type='password']").val("");a.find("input:first").focus();0<c.length&&c.hide();$("#oldpass").prop("disabled",!1).val("");$("#soldpass").show();break;default:b.msg.out(d),a.find("input[type='text'],input[type='password']").val(""),a.find("input:first").focus()}})},install:function(a){e.info("main:install");var c=b.appRequests().getRequestOpts();
c.url=f.main.install;c.data=a.serialize();b.appRequests().getActionCall(c,function(a){b.msg.out(a);0==a.status&&setTimeout(function(){b.redirect("index.php")},1E3)})},upgrade:function(a){e.info("main:upgrade");var c='<div id="alert"><p id="alert-text">'+b.config().LANG[59]+"</p></div>";mdlDialog().show({text:c,negative:{title:b.config().LANG[44],onClick:function(a){a.preventDefault();b.msg.error(b.config().LANG[44])}},positive:{title:b.config().LANG[43],onClick:function(d){d=a.find("input[name='useTask']");
var c=$("#taskStatus");c.empty().html(b.config().LANG[62]);if(0<d.length&&1==d.val()){d=b.appRequests().getRequestOpts();d.url=f.main.task;d.data={source:a.find("input[name='lock']").val(),taskId:a.find("input[name='taskId']").val()};var e=b.appRequests().getActionEvent(d,function(a){a=a.task+" - "+a.message+" - "+a.time+" - "+a.progress+"%";a+="<br>"+b.config().LANG[62];c.empty().html(a)})}d=b.appRequests().getRequestOpts();d.url=f.main.upgrade;d.method="get";d.useFullLoading=!0;d.data=a.serialize();
b.appRequests().getActionCall(d,function(d){b.msg.out(d);0!==d.status?a.find(":input[name=h]").val(""):(void 0!==e&&e.close(),setTimeout(function(){b.redirect("index.php")},5E3))})}}})},getUpdates:function(){e.info("main:getUpdates");var a=b.appRequests().getRequestOpts();a.url=f.main.getUpdates;a.type="html";a.method="get";a.timeout=1E4;a.useLoading=!1;a.data={isAjax:1};b.appRequests().getActionCall(a,function(a){$("#updates").html(a);void 0!==componentHandler&&componentHandler.upgradeDom()},function(){$("#updates").html("!")})}},
p={view:function(a){e.info("account:show");g({r:a.data("action-id")+"/"+a.data("item-id")},"account")},viewHistory:function(a){e.info("account:showHistory");g({r:a.data("action-id")+"/"+a.val()},"account")},edit:function(a){e.info("account:edit");g({r:a.data("action-id")+"/"+a.data("item-id")},"account")},"delete":function(a){e.info("account:delete");var c='<div id="alert"><p id="alert-text">'+b.config().LANG[3]+"</p></div>";mdlDialog().show({text:c,negative:{title:b.config().LANG[44],onClick:function(a){a.preventDefault();
b.msg.error(b.config().LANG[44])}},positive:{title:b.config().LANG[43],onClick:function(d){d=b.appRequests().getRequestOpts();d.url=f.account.save;d.data={r:"account/saveDelete/"+a.data("item-id"),sk:b.sk.get()};b.appRequests().getActionCall(d,function(a){b.msg.out(a);p.search()})}}})},viewPass:function(a){e.info("account:showpass");var c=a.data("parent-id"),c=0===c?a.data("item-id"):c,d=b.appRequests().getRequestOpts();d.url=f.entrypoint;d.method="get";d.data={r:a.data("action-id")+"/"+c+"/"+a.data("history"),
sk:b.sk.get(),isAjax:1};b.appRequests().getActionCall(d,function(d){0!==d.status?b.msg.out(d):(d=$(d.data.html),m(a,d),k=setTimeout(function(){$.magnificPopup.close()},3E4),d.on("mouseleave",function(){clearTimeout(k);k=setTimeout(function(){$.magnificPopup.close()},3E4)}).on("mouseenter",function(){0!==k&&clearTimeout(k)}))})},copyPass:function(a){e.info("account:copypass");var c=a.data("parent-id"),c=0===c?a.data("item-id"):c,d=b.appRequests().getRequestOpts();d.url=f.entrypoint;d.method="get";
d.async=!1;d.data={r:a.data("action-id")+"/"+c+"/"+a.data("history"),sk:b.sk.get(),isAjax:1};return b.appRequests().getActionCall(d)},copy:function(a){e.info("account:copy");g({r:a.data("action-id"),itemId:a.data("item-id")},"account")},saveFavorite:function(a,c){e.info("account:saveFavorite");var d="on"===a.data("status"),h={r:(d?a.data("action-id-off"):a.data("action-id-on"))+"/"+a.data("item-id"),sk:b.sk.get(),isAjax:1},g=b.appRequests().getRequestOpts();g.url=f.account.saveFavorite;g.data=h;b.appRequests().getActionCall(g,
function(h){b.msg.out(h);0===h.status&&(a.data("status",d?"off":"on"),"function"===typeof c&&c())})},request:function(a){e.info("account:request");var c=b.appRequests().getRequestOpts();c.url=f.account.request;c.data=a.serialize();b.appRequests().getActionCall(c,function(a){b.msg.out(a)})},menu:function(a){a.hide();a.parent().children(".actions-optional").show(250)},sort:function(a){e.info("account:sort");var b=$("#frmSearch");b.find('input[name="skey"]').val(a.data("key"));b.find('input[name="sorder"]').val(a.data("dir"));
b.find('input[name="start"]').val(a.data("start"));p.search()},editPass:function(a){e.info("account:editpass");var b=a.data("parent-id");g({r:a.data("action-id"),itemId:void 0===b?a.data("item-id"):b},"account")},saveEditRestore:function(a){e.info("account:restore");var c=b.appRequests().getRequestOpts();c.url=f.account.save+"?r="+a.data("action-id")+"/"+a.data("history-id")+"/"+a.data("item-id");c.data=a.serialize();b.appRequests().getActionCall(c,function(a){b.msg.out(a);void 0!==a.data.itemId&&
void 0!==a.data.nextAction&&g({r:a.data.nextAction,itemId:a.data.itemId},"account")})},listFiles:function(a){e.info("account:getfiles");var c=b.appRequests().getRequestOpts();c.method="get";c.type="html";c.url=f.account.getFiles;c.data={r:"account/listFiles/"+a.data("item-id"),del:a.data("delete"),sk:b.sk.get()};b.appRequests().getActionCall(c,function(b){a.html(b)})},search:function(a){e.info("account:search");var c=$("#frmSearch");c.find("input[name='sk']").val(b.sk.get());c.find("input[name='skey']").val();
c.find("input[name='sorder']").val();void 0!==a&&c.find("input[name='start']").val(0);a=b.appRequests().getRequestOpts();a.url=f.account.search;a.method="get";a.data=c.serialize();b.appRequests().getActionCall(a,function(a){10===a.status&&b.msg.out(a);b.sk.set(a.sk);$("#res-content").empty().html(a.html)})},save:function(a){e.info("account:save");var c=b.appRequests().getRequestOpts();c.url=f.account.save+"?r="+a.data("action")+"/"+a.data("item-id");c.data=a.serialize();b.appRequests().getActionCall(c,
function(a){b.msg.out(a);void 0!==a.data.itemId&&void 0!==a.data.nextAction&&g({r:a.data.nextAction,itemId:a.data.itemId},"account")})}},l={refreshTab:!0,state:{tab:{index:0,refresh:!0,route:""},itemId:0,update:function(a){var b=$("#content").find("[id^='tabs-'].is-active");l.state.tab.refresh=!a.data("item-dst");l.state.tab.index=b.data("tab_index");l.state.tab.route=b.data("tab_route");l.state.itemId=a.data("item-id")}},show:function(a){e.info("appMgmt:show");l.state.update(a);var c=b.appRequests().getRequestOpts();
c.url=f.appMgmt.show;c.method="get";c.data={r:a.data("route")+"/"+a.data("item-id"),sk:b.sk.get(),isAjax:1};b.appRequests().getActionCall(c,function(d){0!==d.status?b.msg.out(d):m(a,d.data.html)})},"delete":function(a){e.info("appMgmt:delete");l.state.update(a);var c='<div id="alert"><p id="alert-text">'+b.config().LANG[12]+"</p></div>",d=a.data("selection"),h=[];if(d&&($(d).find(".is-selected").each(function(){var a=$(this);h.push(a.data("item-id"))}),0===h.length))return;mdlDialog().show({text:c,
negative:{title:b.config().LANG[44],onClick:function(a){a.preventDefault();b.msg.error(b.config().LANG[44])}},positive:{title:b.config().LANG[43],onClick:function(d){d.preventDefault();d=b.appRequests().getRequestOpts();d.url=f.appMgmt.save;d.method="get";d.data={r:a.data("route")+"/"+a.data("item-id"),sk:b.sk.get(),isAjax:1};b.appRequests().getActionCall(d,function(a){b.msg.out(a);n({r:l.state.tab.route,tabIndex:l.state.tab.index})})}}})},save:function(a){e.info("appMgmt:save");var c=b.appRequests().getRequestOpts();
c.url=f.appMgmt.save+"?r="+a.data("route");c.data=a.serialize();b.appRequests().getActionCall(c,function(a){b.msg.out(a);0===a.status&&(!0===l.state.tab.refresh&&n({r:l.state.tab.route,tabIndex:l.state.tab.index}),$.magnificPopup.close())})},search:function(a){e.info("appMgmt:search");var c=$(a.data("target")),d=b.appRequests().getRequestOpts();d.url=f.appMgmt.search;d.method="get";d.data=a.serialize();b.appRequests().getActionCall(d,function(a){0===a.status?c.html(a.data.html):c.html(b.msg.html.error(a.description));
b.sk.set(a.csrf)})},nav:function(a){e.info("appMgmt:nav");var c=$("#"+a.data("action-form"));c.find("[name='start']").val(a.data("start"));c.find("[name='count']").val(a.data("count"));c.find("[name='sk']").val(b.sk.get());l.search(c)},ldapSync:function(a){e.info("appMgmt:ldapSync");var c='<div id="alert"><p id="alert-text">'+b.config().LANG[57]+"</p></div>";mdlDialog().show({text:c,negative:{title:b.config().LANG[44],onClick:function(a){a.preventDefault();b.msg.error(b.config().LANG[44])}},positive:{title:b.config().LANG[43],
onClick:function(d){d=b.appRequests().getRequestOpts();d.url=f.appMgmt.save;d.data={actionId:a.data("action-id"),sk:b.sk.get(),isAjax:1,ldap_loginattribute:$("#ldap_loginattribute").val(),ldap_nameattribute:$("#ldap_nameattribute").val(),ldap_ads:$("#ldap_ads").prop("checked")};b.appRequests().getActionCall(d,function(a){b.msg.out(a)})}}})}};return{doAction:g,appMgmt:l,account:p,file:{view:function(a){e.info("file:view");var c=b.appRequests().getRequestOpts();c.url=f.file;c.type="html";c.data={fileId:a.data("item-id"),
sk:b.sk.get(),actionId:a.data("action-id")};b.appRequests().getActionCall(c,function(d){void 0!==d.status&&1===d.status?b.msg.out(d):d?t(a,d):b.msg.error(b.config().LANG[14])})},download:function(a){e.info("file:download");a={fileId:a.data("item-id"),sk:b.sk.get(),actionId:a.data("action-id")};$.fileDownload(b.config().APP_ROOT+f.file,{httpMethod:"POST",data:a})},"delete":function(a){e.info("file:delete");var c='<div id="alert"><p id="alert-text">'+b.config().LANG[15]+"</p></div>";mdlDialog().show({text:c,
negative:{title:b.config().LANG[44],onClick:function(a){a.preventDefault();b.msg.error(b.config().LANG[44])}},positive:{title:b.config().LANG[43],onClick:function(d){d=b.appRequests().getRequestOpts();d.url=f.file;d.data={fileId:a.data("item-id"),actionId:a.data("action-id"),sk:b.sk.get()};b.appRequests().getActionCall(d,function(a){b.msg.out(a);0===a.status&&(a=$("#list-account-files"),p.getfiles(a))})}}})}},checks:{ldap:function(a){e.info("checks:ldap");a=$(a.data("src"));a.find("[name='sk']").val(b.sk.get());
var c=b.appRequests().getRequestOpts();c.url=f.checks;c.data=a.serialize();b.appRequests().getActionCall(c,function(a){b.msg.out(a);var c=$("#ldap-results");c.find(".list-wrap").html(b.appTheme().html.getList(a.data));c.show("slow")})},wiki:function(a){e.info("checks:wiki");a=$(a.data("src"));a.find("[name='sk']").val(b.sk.get());var c=b.appRequests().getRequestOpts();c.url=f.checks;c.data=a.serialize();b.appRequests().getActionCall(c,function(a){b.msg.out(a);0===a.status&&$("#dokuWikiResCheck").html(a.data)})}},
config:{save:function(a){e.info("config:save");var c=b.appRequests().getRequestOpts();c.url=f.config.save;c.data=a.serialize();"masterpass"===a.data("type")&&(c.useFullLoading=!0);b.appRequests().getActionCall(c,function(c){b.msg.out(c);0===c.status&&(void 0!==a.data("nextaction-id")?g({actionId:a.data("nextaction-id"),itemId:a.data("activetab")}):void 0!==a.data("reload")&&setTimeout(function(){b.redirect("index.php")},2E3))})},masterpass:function(a){var c='<div id="alert"><p id="alert-text">'+b.config().LANG[59]+
"</p></div>";mdlDialog().show({text:c,negative:{title:b.config().LANG[44],onClick:function(c){c.preventDefault();b.msg.error(b.config().LANG[44]);a.find(":input[type=password]").val("")}},positive:{title:b.config().LANG[43],onClick:function(c){c=a.find("input[name='useTask']");var d=$("#taskStatus");d.empty().html(b.config().LANG[62]);if(0<c.length&&1==c.val()){c=b.appRequests().getRequestOpts();c.url=f.main.task;c.data={source:a.find("input[name='lock']").val(),taskId:a.find("input[name='taskId']").val()};
var e=b.appRequests().getActionEvent(c,function(a){a=a.task+" - "+a.message+" - "+a.time+" - "+a.progress+"%";a+="<br>"+b.config().LANG[62];d.empty().html(a)})}c=b.appRequests().getRequestOpts();c.url=f.config.save;c.useFullLoading=!0;c.data=a.serialize();b.appRequests().getActionCall(c,function(c){b.msg.out(c);a.find(":input[type=password]").val("");void 0!==e&&e.close()})}}})},backup:function(a){e.info("config:backup");var c=b.appRequests().getRequestOpts();c.url=f.config["export"];c.method="post";
c.useFullLoading=!0;c.data=a.serialize();b.appRequests().getActionCall(c,function(c){b.msg.out(c);0===c.status&&void 0!==a.data("nextaction-id")&&g({actionId:a.data("nextaction-id"),itemId:a.data("activetab")})})},"export":function(a){e.info("config:export");var c=b.appRequests().getRequestOpts();c.url=f.config["export"];c.data=a.serialize();b.appRequests().getActionCall(c,function(c){b.msg.out(c);0===c.status&&void 0!==a.data("nextaction-id")&&g({actionId:a.data("nextaction-id"),itemId:a.data("activetab")})})},
"import":function(a){e.info("config:import");var c=b.appRequests().getRequestOpts();c.url=f.config["import"];c.data=a.serialize();b.appRequests().getActionCall(c,function(c){b.msg.out(c);0===c.status&&void 0!==a.data("nextaction-id")&&g({actionId:a.data("nextaction-id"),itemId:a.data("activetab")})})},refreshMpass:function(a){e.info("config:import");var c=b.appRequests().getRequestOpts();c.url=f.config.save;c.data={actionId:a.data("action-id"),itemId:a.data("item-id"),sk:a.data("sk"),isAjax:1};b.appRequests().getActionCall(c,
function(a){b.msg.out(a)})}},main:r,user:{savePreferences:function(a){e.info("user:savePreferences");var c=b.appRequests().getRequestOpts();c.url=f.user.savePreferences;c.data=a.serialize();b.appRequests().getActionCall(c,function(a){b.msg.out(a);setTimeout(function(){b.redirect("index.php")},2E3)})},saveSecurity:function(a){e.info("user:saveSecurity");var c=b.appRequests().getRequestOpts();c.url=f.user.savePreferences;c.data=a.serialize();b.appRequests().getActionCall(c,function(c){b.msg.out(c);
g({actionId:a.data("nextaction-id"),itemId:a.data("activetab")})})},password:function(a){e.info("user:password");var c=b.appRequests().getRequestOpts();c.type="html";c.method="get";c.url=f.user.password;c.data={actionId:a.data("action-id"),itemId:a.data("item-id"),sk:b.sk.get(),isAjax:1};b.appRequests().getActionCall(c,function(b){0===b.length?r.logout():m(a,b)})},passreset:function(a){e.info("user:passreset");var c=b.appRequests().getRequestOpts();c.url=f.user.passreset;c.data=a.serialize();b.appRequests().getActionCall(c,
function(a){b.msg.out(a);0==a.status&&setTimeout(function(){b.redirect("index.php")},2E3)})}},link:{save:function(a){e.info("link:save");var c=b.appRequests().getRequestOpts();c.url=f.link;c.data={itemId:a.data("item-id"),actionId:a.data("action-id"),sk:b.sk.get(),isAjax:1};var d='<div id="alert"><p id="alert-text">'+b.config().LANG[48]+"</p></div>";mdlDialog().show({text:d,negative:{title:b.config().LANG[44],onClick:function(a){a.preventDefault();b.appRequests().getActionCall(c,function(a){b.msg.out(a)})}},
positive:{title:b.config().LANG[43],onClick:function(d){d.preventDefault();c.data.notify=1;b.appRequests().getActionCall(c,function(c){b.msg.out(c);g({actionId:a.data("nextaction-id"),itemId:a.data("item-id")})})}}})},refresh:function(a){e.info("link:refresh");var c={itemId:a.data("item-id"),actionId:a.data("action-id"),sk:b.sk.get(),activeTab:a.data("activetab")},d=b.appRequests().getRequestOpts();d.url=f.link;d.data=c;b.appRequests().getActionCall(d,function(c){b.msg.out(c);0===c.status&&g({actionId:a.data("nextaction-id"),
itemId:a.data("activetab")})})}},eventlog:{nav:function(a){if(void 0===a.data("start"))return!1;var c=b.appRequests().getRequestOpts();c.url=f.eventlog;c.method="get";c.type="html";c.data={actionId:a.data("action-id"),sk:b.sk.get(),isAjax:1,start:a.data("start"),count:a.data("count"),current:a.data("current")};b.appRequests().getActionCall(c,function(a){$("#content").html(a);b.scrollUp()})},clear:function(a){var c='<div id="alert"><p id="alert-text">'+b.config().LANG[20]+"</p></div>";mdlDialog().show({text:c,
negative:{title:b.config().LANG[44],onClick:function(a){a.preventDefault();b.msg.error(b.config().LANG[44])}},positive:{title:b.config().LANG[43],onClick:function(c){c.preventDefault();c=b.appRequests().getRequestOpts();c.url=f.eventlog;c.method="get";c.data={clear:1,sk:b.sk.get(),isAjax:1};b.appRequests().getActionCall(c,function(c){b.msg.out(c);0==c.status&&g({actionId:a.data("nextaction-id")})})}}})}},ajaxUrl:f,plugin:{toggle:function(a){e.info("plugin:enable");a={itemId:a.data("item-id"),actionId:a.data("action-id"),
sk:b.sk.get(),activeTab:a.data("activetab")};var c=b.appRequests().getRequestOpts();c.url=f.appMgmt.save;c.data=a;b.appRequests().getActionCall(c,function(a){b.msg.out(a);0===a.status&&setTimeout(function(){b.redirect("index.php")},2E3)})},reset:function(a){e.info("plugin:reset");var c='<div id="alert"><p id="alert-text">'+b.config().LANG[58]+"</p></div>";mdlDialog().show({text:c,negative:{title:b.config().LANG[44],onClick:function(a){a.preventDefault();b.msg.error(b.config().LANG[44])}},positive:{title:b.config().LANG[43],
onClick:function(c){c.preventDefault();c={itemId:a.data("item-id"),actionId:a.data("action-id"),sk:b.sk.get(),activeTab:a.data("activetab")};var d=b.appRequests().getRequestOpts();d.url=f.appMgmt.save;d.data=c;b.appRequests().getActionCall(d,function(a){b.msg.out(a)})}}})}},notice:{check:function(a){e.info("notice:check");var c={itemId:a.data("item-id"),actionId:a.data("action-id"),sk:b.sk.get()},d=b.appRequests().getRequestOpts();d.url=f.appMgmt.save;d.data=c;b.appRequests().getActionCall(d,function(c){b.msg.out(c);
0===c.status&&g({actionId:a.data("nextaction-id"),itemId:a.data("activetab")})})},search:function(a){e.info("notice:search");var c=$(a.data("target")),d=b.appRequests().getRequestOpts();d.url=f.notice.search;d.method="get";d.data=a.serialize();b.appRequests().getActionCall(d,function(a){0===a.status?c.html(a.data.html):c.html(b.msg.html.error(a.description));b.sk.set(a.csrf)})},show:function(a){e.info("notice:show");var c=b.appRequests().getRequestOpts();c.url=f.notice.show;c.method="get";c.data=
{itemId:a.data("item-id"),actionId:a.data("action-id"),activeTab:a.data("activetab"),sk:b.sk.get(),isAjax:1};b.appRequests().getActionCall(c,function(c){0!==c.status?b.msg.out(c):m(a,c.data.html)})}},wiki:{show:function(a){e.info("wiki:show");var c=b.appRequests().getRequestOpts();c.url=f.wiki.show;c.method="get";c.data={pageName:a.data("pagename"),actionId:a.data("action-id"),sk:b.sk.get(),isAjax:1};b.appRequests().getActionCall(c,function(c){0!==c.status?b.msg.out(c):m(a,c.data.html)})}},items:q}};
